svg.ondblclick=function(A){var B=A.target.getAttribute("class");if(B==undefined||B==null){return}if(A.target.tagName=="line"&&A.target.parentNode.getAttribute("class")=="zuheline"){var H=A.target;colorline=A.target.getAttribute("stroke");if(circlearray.length!=0){for(var F=1;F<circlearray.length;F++){svgg.removeChild(circlearray[F]);console.log(circlearray[F])}circlearray[0].setAttribute("stroke",colorline);circlearray.length=0}H.setAttribute("stroke","aqua");var G=H.getAttribute("x1");var C=H.getAttribute("y1");var D=H.getAttribute("x2");var E=H.getAttribute("y2");var J=document.createElementNS("http://www.w3.org/2000/svg","circle");var I=document.createElementNS("http://www.w3.org/2000/svg","circle");J.setAttribute("cx",G);J.setAttribute("cy",C);J.setAttribute("r",5);J.setAttribute("stroke","red");J.setAttribute("stroke-width",1);J.setAttribute("fill","red");I.setAttribute("cx",D);I.setAttribute("cy",E);I.setAttribute("r",5);I.setAttribute("stroke","red");I.setAttribute("stroke-width",1);I.setAttribute("fill","red");circlearray.push(H);circlearray.push(J);circlearray.push(I);J.onmousedown=function(L){var M;var K;document.onmousemove=function(N){M=getDuijioffset(N);J.setAttribute("cx",M.offsetX);K=H.parentNode.childNodes;for(var O=0;O<K.length;O++){K[O].setAttribute("x1",M.offsetX)}};document.onmouseup=function(N){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};I.onmousedown=function(K){var L;document.onmousemove=function(M){L=getDuijioffset(M);I.setAttribute("cx",L.offsetX);childnode=H.parentNode.childNodes;for(var N=0;N<childnode.length;N++){childnode[N].setAttribute("x2",L.offsetX)}};document.onmouseup=function(M){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};svgg.appendChild(J);svgg.appendChild(I);return}if(B=="pingline"){var H=A.target;colorline=A.target.getAttribute("stroke");if(circlearray.length!=0){for(var F=1;F<circlearray.length;F++){svgg.removeChild(circlearray[F]);console.log(circlearray[F])}circlearray[0].setAttribute("stroke",colorline);circlearray.length=0}H.setAttribute("stroke","aqua");var G=H.getAttribute("x1");var C=H.getAttribute("y1");var D=H.getAttribute("x2");var E=H.getAttribute("y2");var J=document.createElementNS("http://www.w3.org/2000/svg","circle");var I=document.createElementNS("http://www.w3.org/2000/svg","circle");J.setAttribute("cx",G);J.setAttribute("cy",C);J.setAttribute("r",5);J.setAttribute("stroke","red");J.setAttribute("stroke-width",1);J.setAttribute("fill","red");I.setAttribute("cx",D);I.setAttribute("cy",E);I.setAttribute("r",5);I.setAttribute("stroke","red");I.setAttribute("stroke-width",1);I.setAttribute("fill","red");circlearray.push(H);circlearray.push(J);circlearray.push(I);J.onmousedown=function(K){var L;document.onmousemove=function(M){L=getDuijioffset(M);H.setAttribute("x1",L.offsetX);J.setAttribute("cx",L.offsetX)};document.onmouseup=function(M){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};I.onmousedown=function(K){var L;document.onmousemove=function(M){L=getDuijioffset(M);H.setAttribute("x2",L.offsetX);I.setAttribute("cx",L.offsetX)};document.onmouseup=function(M){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};svgg.appendChild(J);svgg.appendChild(I)}if(B=="shuline"){var H=A.target;colorline=A.target.getAttribute("stroke");if(circlearray.length!=0){for(var F=1;F<circlearray.length;F++){svgg.removeChild(circlearray[F]);console.log(circlearray[F])}circlearray[0].setAttribute("stroke",colorline);circlearray.length=0}H.setAttribute("stroke","aqua");var G=H.getAttribute("x1");var C=H.getAttribute("y1");var D=H.getAttribute("x2");var E=H.getAttribute("y2");var J=document.createElementNS("http://www.w3.org/2000/svg","circle");var I=document.createElementNS("http://www.w3.org/2000/svg","circle");J.setAttribute("cx",G);J.setAttribute("cy",C);J.setAttribute("r",5);J.setAttribute("stroke","red");J.setAttribute("stroke-width",1);J.setAttribute("fill","red");I.setAttribute("cx",D);I.setAttribute("cy",E);I.setAttribute("r",5);I.setAttribute("stroke","red");I.setAttribute("stroke-width",1);I.setAttribute("fill","red");circlearray.push(H);circlearray.push(J);circlearray.push(I);J.onmousedown=function(K){var L;document.onmousemove=function(M){L=getDuijioffset(M);H.setAttribute("y1",L.offsetY);J.setAttribute("cy",L.offsetY)};document.onmouseup=function(M){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};I.onmousedown=function(K){var L;document.onmousemove=function(M){L=getDuijioffset(M);H.setAttribute("y2",L.offsetY);I.setAttribute("cy",L.offsetY)};document.onmouseup=function(M){document.onmousemove=null;document.onmouseup=null;jilubianhua()}};svgg.appendChild(J);svgg.appendChild(I)}if(A.target.tagName=="text"){console.log("ffff");$("#dialog1").dialog({title:"输入框",width:200,height:70,modal:false,onClose:function(){var K=document.getElementById("wenzi").value;if(K!=""){A.target.innerHTML=K;jilubianhua()}},});document.getElementById("dialog1").style.display="block";$("#dialog1").window("move",{left:A.clientX,top:A.clientY,})}};